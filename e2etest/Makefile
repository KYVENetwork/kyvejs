###############################################################################
###                          Formatting & Linting                           ###
###############################################################################

gofumpt_cmd=mvdan.cc/gofumpt
golangci_lint_cmd=github.com/golangci/golangci-lint/cmd/golangci-lint

format:
	@echo "ğŸ“ Running formatter..."
	@go run $(gofumpt_cmd) -l -w .
	@go run $(gofumpt_cmd) -l -w testapi
	@echo "âœ… Completed formatting!"

lint:
	@echo "ğŸ“ Running linter..."
	@go run $(golangci_lint_cmd) run --timeout=10m
	@go run $(golangci_lint_cmd) run --timeout=10m testapi
	@echo "âœ… Completed linting!"

###############################################################################
###      			                Tests            			            ###
###############################################################################

test:
	@echo "ğŸ¯ Running tests..."
	@go test -v -parallel 10 -timeout 30m ./...
	@echo "âœ… Completed tests!"
